{"ast":null,"code":"/**\n * Stores result from supportsCssVariables to avoid redundant processing to\n * detect CSS custom variable support.\n */\nvar supportsCssVariables_;\nexport function supportsCssVariables(windowObj, forceRefresh) {\n  if (forceRefresh === void 0) {\n    forceRefresh = false;\n  }\n\n  var CSS = windowObj.CSS;\n  var supportsCssVars = supportsCssVariables_;\n\n  if (typeof supportsCssVariables_ === 'boolean' && !forceRefresh) {\n    return supportsCssVariables_;\n  }\n\n  var supportsFunctionPresent = CSS && typeof CSS.supports === 'function';\n\n  if (!supportsFunctionPresent) {\n    return false;\n  }\n\n  var explicitlySupportsCssVars = CSS.supports('--css-vars', 'yes'); // See: https://bugs.webkit.org/show_bug.cgi?id=154669\n  // See: README section on Safari\n\n  var weAreFeatureDetectingSafari10plus = CSS.supports('(--css-vars: yes)') && CSS.supports('color', '#00000000');\n  supportsCssVars = explicitlySupportsCssVars || weAreFeatureDetectingSafari10plus;\n\n  if (!forceRefresh) {\n    supportsCssVariables_ = supportsCssVars;\n  }\n\n  return supportsCssVars;\n}\nexport function getNormalizedEventCoords(evt, pageOffset, clientRect) {\n  if (!evt) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n\n  var x = pageOffset.x,\n      y = pageOffset.y;\n  var documentX = x + clientRect.left;\n  var documentY = y + clientRect.top;\n  var normalizedX;\n  var normalizedY; // Determine touch point relative to the ripple container.\n\n  if (evt.type === 'touchstart') {\n    var touchEvent = evt;\n    normalizedX = touchEvent.changedTouches[0].pageX - documentX;\n    normalizedY = touchEvent.changedTouches[0].pageY - documentY;\n  } else {\n    var mouseEvent = evt;\n    normalizedX = mouseEvent.pageX - documentX;\n    normalizedY = mouseEvent.pageY - documentY;\n  }\n\n  return {\n    x: normalizedX,\n    y: normalizedY\n  };\n}","map":{"version":3,"mappings":"AAwBA;;;;AAIA,IAAIA,qBAAJ;AAEA,OAAM,SAAUC,oBAAV,CAA+BC,SAA/B,EAA6DC,YAA7D,EAAiF;EAApB;IAAAA;EAAoB;;EAC9E,OAAG,GAAID,SAAS,IAAhB;EACP,IAAIE,eAAe,GAAGJ,qBAAtB;;EACA,IAAI,OAAOA,qBAAP,KAAiC,SAAjC,IAA8C,CAACG,YAAnD,EAAiE;IAC/D,OAAOH,qBAAP;EACD;;EAED,IAAMK,uBAAuB,GAAGC,GAAG,IAAI,OAAOA,GAAG,CAACC,QAAX,KAAwB,UAA/D;;EACA,IAAI,CAACF,uBAAL,EAA8B;IAC5B,OAAO,KAAP;EACD;;EAED,IAAMG,yBAAyB,GAAGF,GAAG,CAACC,QAAJ,CAAa,YAAb,EAA2B,KAA3B,CAAlC,CAZqF,CAarF;EACA;;EACA,IAAME,iCAAiC,GACnCH,GAAG,CAACC,QAAJ,CAAa,mBAAb,KACAD,GAAG,CAACC,QAAJ,CAAa,OAAb,EAAsB,WAAtB,CAFJ;EAKAH,eAAe,GACXI,yBAAyB,IAAIC,iCADjC;;EAGA,IAAI,CAACN,YAAL,EAAmB;IACjBH,qBAAqB,GAAGI,eAAxB;EACD;;EACD,OAAOA,eAAP;AACD;AAED,OAAM,SAAUM,wBAAV,CAAmCC,GAAnC,EAA2DC,UAA3D,EAAuFC,UAAvF,EAA0G;EAE9G,IAAI,CAACF,GAAL,EAAU;IACR,OAAO;MAACG,CAAC,EAAE,CAAJ;MAAOC,CAAC,EAAE;IAAV,CAAP;EACD;;EACM,KAAC,GAAOH,UAAU,EAAlB;EAAA,IAAGG,CAAC,GAAIH,UAAU,EAAlB;EACP,IAAMI,SAAS,GAAGF,CAAC,GAAGD,UAAU,CAACI,IAAjC;EACA,IAAMC,SAAS,GAAGH,CAAC,GAAGF,UAAU,CAACM,GAAjC;EAEA,IAAIC,WAAJ;EACA,IAAIC,WAAJ,CAV8G,CAW9G;;EACA,IAAIV,GAAG,CAACW,IAAJ,KAAa,YAAjB,EAA+B;IAC7B,IAAMC,UAAU,GAAGZ,GAAnB;IACAS,WAAW,GAAGG,UAAU,CAACC,cAAX,CAA0B,CAA1B,EAA6BC,KAA7B,GAAqCT,SAAnD;IACAK,WAAW,GAAGE,UAAU,CAACC,cAAX,CAA0B,CAA1B,EAA6BE,KAA7B,GAAqCR,SAAnD;EACD,CAJD,MAIO;IACL,IAAMS,UAAU,GAAGhB,GAAnB;IACAS,WAAW,GAAGO,UAAU,CAACF,KAAX,GAAmBT,SAAjC;IACAK,WAAW,GAAGM,UAAU,CAACD,KAAX,GAAmBR,SAAjC;EACD;;EAED,OAAO;IAACJ,CAAC,EAAEM,WAAJ;IAAiBL,CAAC,EAAEM;EAApB,CAAP;AACD","names":["supportsCssVariables_","supportsCssVariables","windowObj","forceRefresh","supportsCssVars","supportsFunctionPresent","CSS","supports","explicitlySupportsCssVars","weAreFeatureDetectingSafari10plus","getNormalizedEventCoords","evt","pageOffset","clientRect","x","y","documentX","left","documentY","top","normalizedX","normalizedY","type","touchEvent","changedTouches","pageX","pageY","mouseEvent"],"sources":["util.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}