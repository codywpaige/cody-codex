{"ast":null,"code":"/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @fileoverview A \"ponyfill\" is a polyfill that doesn't modify the global prototype chain.\n * This makes ponyfills safer than traditional polyfills, especially for libraries like MDC.\n */\nexport function closest(element, selector) {\n  if (element.closest) {\n    return element.closest(selector);\n  }\n\n  var el = element;\n\n  while (el) {\n    if (matches(el, selector)) {\n      return el;\n    }\n\n    el = el.parentElement;\n  }\n\n  return null;\n}\nexport function matches(element, selector) {\n  var nativeMatches = element.matches || element.webkitMatchesSelector || element.msMatchesSelector;\n  return nativeMatches.call(element, selector);\n}\n/**\n * Used to compute the estimated scroll width of elements. When an element is\n * hidden due to display: none; being applied to a parent element, the width is\n * returned as 0. However, the element will have a true width once no longer\n * inside a display: none context. This method computes an estimated width when\n * the element is hidden or returns the true width when the element is visble.\n * @param {Element} element the element whose width to estimate\n */\n\nexport function estimateScrollWidth(element) {\n  // Check the offsetParent. If the element inherits display: none from any\n  // parent, the offsetParent property will be null (see\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent).\n  // This check ensures we only clone the node when necessary.\n  var htmlEl = element;\n\n  if (htmlEl.offsetParent !== null) {\n    return htmlEl.scrollWidth;\n  }\n\n  var clone = htmlEl.cloneNode(true);\n  clone.style.setProperty('position', 'absolute');\n  clone.style.setProperty('transform', 'translate(-9999px, -9999px)');\n  document.documentElement.appendChild(clone);\n  var scrollWidth = clone.scrollWidth;\n  document.documentElement.removeChild(clone);\n  return scrollWidth;\n}","map":{"version":3,"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;AAuBA;;;;AAKA,OAAM,SAAUA,OAAV,CAAkBC,OAAlB,EAAoCC,QAApC,EAAoD;EACxD,IAAID,OAAO,CAACD,OAAZ,EAAqB;IACnB,OAAOC,OAAO,CAACD,OAAR,CAAgBE,QAAhB,CAAP;EACD;;EAED,IAAIC,EAAE,GAAmBF,OAAzB;;EACA,OAAOE,EAAP,EAAW;IACT,IAAIC,OAAO,CAACD,EAAD,EAAKD,QAAL,CAAX,EAA2B;MACzB,OAAOC,EAAP;IACD;;IACDA,EAAE,GAAGA,EAAE,CAACE,aAAR;EACD;;EACD,OAAO,IAAP;AACD;AAED,OAAM,SAAUD,OAAV,CAAkBH,OAAlB,EAAoCC,QAApC,EAAoD;EACxD,IAAMI,aAAa,GAAGL,OAAO,CAACG,OAAR,IACfH,OAAO,CAACM,qBADO,IAEdN,OAAe,CAACO,iBAFxB;EAGA,OAAOF,aAAa,CAACG,IAAd,CAAmBR,OAAnB,EAA4BC,QAA5B,CAAP;AACD;AAED;;;;;;;;;AAQA,OAAM,SAAUQ,mBAAV,CAA8BT,OAA9B,EAA8C;EAClD;EACA;EACA;EACA;EACA,IAAMU,MAAM,GAAGV,OAAf;;EACA,IAAIU,MAAM,CAACC,YAAP,KAAwB,IAA5B,EAAkC;IAChC,OAAOD,MAAM,CAACE,WAAd;EACD;;EAED,IAAMC,KAAK,GAAGH,MAAM,CAACI,SAAP,CAAiB,IAAjB,CAAd;EACAD,KAAK,CAACE,KAAN,CAAYC,WAAZ,CAAwB,UAAxB,EAAoC,UAApC;EACAH,KAAK,CAACE,KAAN,CAAYC,WAAZ,CAAwB,WAAxB,EAAqC,6BAArC;EACAC,QAAQ,CAACC,eAAT,CAAyBC,WAAzB,CAAqCN,KAArC;EACA,IAAMD,WAAW,GAAGC,KAAK,CAACD,WAA1B;EACAK,QAAQ,CAACC,eAAT,CAAyBE,WAAzB,CAAqCP,KAArC;EACA,OAAOD,WAAP;AACD","names":["closest","element","selector","el","matches","parentElement","nativeMatches","webkitMatchesSelector","msMatchesSelector","call","estimateScrollWidth","htmlEl","offsetParent","scrollWidth","clone","cloneNode","style","setProperty","document","documentElement","appendChild","removeChild"],"sources":["ponyfill.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}